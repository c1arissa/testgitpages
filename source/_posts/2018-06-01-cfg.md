---
layout: post
title:  "Control-Flow Integrity Protection in Windows OS"
date:   2018-06-01 13:46:52
comments: false
categories: windows exploit
tags: 
   - windows 
   - exploit
---

A compiler-based security mechanism that combats exploitation of memory corruption vulnerabilities commonly found in programs written in unsafe programming lanuages such as C and C++.  Extra runtime security checks can detect attempts to alter the intended flow of code, known as a control-flow hijack attack.  Makes it much harder for exploits to execute arbitrary code through memory corruption vulnerabilities such as buffer overflows.
A combination of compile and run-time support from CFG implements control flow integrity that tightly restricts where indirect call instructions can execute.

MSVCâ€™s `/guard:cf` switch enables compiler generation of Control Flow Guard security checks.  When enabled, the compiler analyzes control flow for valid indirect call targets at compile time, and then inserts code to verify the targets at runtime. [1](https://msdn.microsoft.com/en-us/library/dn919635.aspx). The valid call sites identified by the compiler are stored in extra structures in the headers of your binaries and used at runtime to validate destination locations of indirect calls.



### Sources
`[1].` [/guard (Enable Control Flow Guard)](https://msdn.microsoft.com/en-us/library/dn919635.aspx) 
